{"version":3,"file":"example1.bundle.js","mappings":"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","sources":["webpack:///./src/lib/Camera.ts","webpack:///./src/lib/Face.ts","webpack:///./src/lib/Geometry.ts","webpack:///./src/lib/Material.ts","webpack:///./src/lib/Mesh.ts","webpack:///./src/lib/Raytracer.ts","webpack:///./src/lib/Renderer.ts","webpack:///./src/lib/Scene.ts","webpack:///./src/lib/Vector3.ts","webpack:///./src/lib/geometries/CubeGeometry.ts","webpack:///./src/lib/optimizer/QuadNode.ts","webpack:///./src/lib/optimizer/QuadTree.ts","webpack:///./src/lib/setup.ts","webpack:///webpack/bootstrap","webpack:///./src/scenes/example1.ts"],"sourcesContent":["import Vector3 from \"./Vector3\";\r\n\r\nexport default class Camera {\r\n    public readonly position = new Vector3(0, 0, 0);\r\n    public readonly target = new Vector3(0, 0, 0);\r\n    public readonly up = new Vector3(0, 1, 0);\r\n\r\n    constructor(public fov: number, public aspectRatio: number, public near: number) {}\r\n}","import Material from \"./Material\";\r\nimport Vector3 from \"./Vector3\";\r\n\r\nexport default class Face {\r\n    private static counter = 0;\r\n    readonly name: string;\r\n\r\n    constructor(\r\n        public readonly u: Vector3,\r\n        public readonly v: Vector3,\r\n        public readonly w: Vector3,\r\n        public readonly normal: Vector3,\r\n        public readonly material?: Material,\r\n        name?: string\r\n    ) {\r\n        this.name = (Face.counter++) + \"_\" + (name || \"Face\");\r\n    };\r\n\r\n    clone() {\r\n        return new Face(\r\n            this.u.clone(),\r\n            this.v.clone(),\r\n            this.w.clone(),\r\n            this.normal,\r\n            this.material,\r\n            this.name + \"_cloned\"\r\n        );\r\n    }\r\n\r\n    getBoundingBox(): [Vector3, Vector3] {\r\n        return [\r\n            new Vector3(Math.min(this.u.x, this.v.x, this.w.x), Math.min(this.u.y, this.v.y, this.w.y), Math.min(this.u.z, this.v.z, this.w.z)),\r\n            new Vector3(Math.max(this.u.x, this.v.x, this.w.x), Math.max(this.u.y, this.v.y, this.w.y), Math.max(this.u.z, this.v.z, this.w.z))\r\n        ];\r\n    }\r\n\r\n    translate(v: Vector3) {\r\n        for (const s of this) {\r\n            for (const d of 'xyz') {\r\n                // @ts-ignore\r\n                s[d] += v[d]; \r\n            }\r\n        }\r\n        return this;\r\n    }\r\n\r\n    *[Symbol.iterator]() {\r\n        yield this.u;\r\n        yield this.v;\r\n        yield this.w;\r\n    }\r\n}","import Face from \"./Face\";\r\nimport Vector3 from \"./Vector3\";\r\n\r\nexport default class Geometry {\r\n    constructor(public readonly vertecies: Vector3[], public readonly faces: Face[]) {}\r\n}","export default class Material {\r\n    static readonly all: Record<string, Material> = {};\r\n    \r\n    constructor(public r = 256, public g = 256, public b = 256, public a = 256, public readonly name?: string) {\r\n        if (name) {\r\n            Material.all[name] = this;\r\n        }\r\n    };\r\n}","import Geometry from \"./Geometry\";\r\nimport Material from \"./Material\";\r\nimport Vector3 from \"./Vector3\";\r\n\r\nexport default class Mesh {\r\n    constructor(public readonly geometry: Geometry, public readonly material: Material) {};\r\n\r\n    public readonly position = new Vector3(0, 0, 0);\r\n    public readonly children: Mesh[] = [];\r\n    private parent?: Mesh;\r\n\r\n    add(mesh: Mesh) {\r\n        mesh.parent = this;\r\n        this.children.push(mesh);\r\n    }\r\n\r\n    attach(mesh: Mesh) {\r\n        this.add(mesh);\r\n        for (const child of mesh) {\r\n            child.position.sub(this.position);\r\n        }\r\n    }\r\n\r\n    rotate(axis: Vector3, angle: number): void {\r\n        const radians = angle * (Math.PI / 180);\r\n        const cos = Math.cos(radians);\r\n        const sin = Math.sin(radians);\r\n        const { x: u, y: v, z: w } = axis.norm();\r\n    \r\n        const applyRotation = (vertex: Vector3) => {\r\n            const rotatedX = vertex.x * (cos + u * u * (1 - cos))\r\n                            + vertex.y * (u * v * (1 - cos) - w * sin)\r\n                            + vertex.z * (u * w * (1 - cos) + v * sin);\r\n                            \r\n            const rotatedY = vertex.x * (v * u * (1 - cos) + w * sin)\r\n                            + vertex.y * (cos + v * v * (1 - cos))\r\n                            + vertex.z * (v * w * (1 - cos) - u * sin);\r\n    \r\n            const rotatedZ = vertex.x * (w * u * (1 - cos) - v * sin)\r\n                            + vertex.y * (w * v * (1 - cos) + u * sin)\r\n                            + vertex.z * (cos + w * w * (1 - cos));\r\n    \r\n            vertex.x = rotatedX;\r\n            vertex.y = rotatedY;\r\n            vertex.z = rotatedZ;\r\n        };\r\n    \r\n        this.geometry.vertecies.forEach(applyRotation);\r\n        this.geometry.faces.forEach(face => applyRotation(face.normal));\r\n    }\r\n\r\n    *[Symbol.iterator](): IterableIterator<Mesh> {\r\n        yield this;\r\n        for (const child of this.children) {\r\n            yield* child;\r\n        }\r\n    }\r\n\r\n    get worldPosition(): Vector3 {\r\n        if (this.parent) {\r\n            return this.parent.worldPosition.add(this.position);\r\n        } else {\r\n            return this.position;\r\n        }\r\n    }\r\n}","import Camera from \"./Camera\";\r\nimport Face from \"./Face\";\r\nimport Mesh from \"./Mesh\";\r\nimport Scene from \"./Scene\";\r\nimport Vector3 from \"./Vector3\";\r\nimport QuadTree from \"./optimizer/QuadTree\";\r\nimport { rendererConfig } from \"./setup\";\r\n\r\nexport default class Raytracer {\r\n    static readonly EPSILON = 1e-7;\r\n\r\n    private readonly qt: QuadTree;\r\n\r\n    constructor(private readonly scene: Scene, public readonly camera: Camera) {\r\n        if (rendererConfig.qtEnabled) {\r\n            this.qt = QuadTree.ofScene(scene, camera);\r\n            // this.qt.print();\r\n        }\r\n    }\r\n\r\n    *castRay(dir: Vector3): IterableIterator<Intersection> {\r\n        const normDir = dir.sub(this.camera.position).norm();\r\n\r\n        if (rendererConfig.qtEnabled) {\r\n            for (const [mesh, face] of this.qt.intersects(dir)) {\r\n                yield* this.checkRay(mesh, face, normDir);\r\n            }\r\n        } else {\r\n            for (const mesh of this.scene) {\r\n                for (const origFace of mesh.geometry.faces) {\r\n                    const face = origFace.clone().translate(mesh.worldPosition);\r\n                    yield* this.checkRay(mesh, face, normDir);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private *checkRay(mesh: Mesh, face: Face, normDir: Vector3): IterableIterator<Intersection> {\r\n        // Möller–Trumbore\r\n        const edge1 = face.v.sub(face.u);\r\n        const edge2 = face.w.sub(face.u);\r\n        const h = normDir.cross(edge2);\r\n        const a = edge1.dot(h);\r\n        \r\n        if (a > -Raytracer.EPSILON && a < Raytracer.EPSILON) {\r\n            return;\r\n        }\r\n\r\n        const f = 1.0 / a;\r\n        const s = this.camera.position.sub(face.u);\r\n        const u = f * s.dot(h);\r\n        if (u < 0.0 || u > 1.0) {\r\n            return;\r\n        }\r\n            \r\n        const q = s.cross(edge1);\r\n        const v = f * normDir.dot(q);\r\n        if (v < 0.0 || u + v > 1.0) {\r\n            return;\r\n        }\r\n\r\n        const t = f * edge2.dot(q);\r\n        if (t > Raytracer.EPSILON) {\r\n            const point = this.camera.position.add(normDir.multScalar(t));\r\n            const dotProduct = normDir.dot(face.normal);\r\n            const clampedDotProduct = Math.max(-1, Math.min(1, dotProduct));\r\n            const angle = Math.acos(clampedDotProduct) * (180 / Math.PI);\r\n            const distance = this.camera.position.sub(point).len();\r\n\r\n            const dist1 = this.distancePointToSegment(point, face.u, face.v);\r\n            const dist2 = this.distancePointToSegment(point, face.v, face.w);\r\n            const dist3 = this.distancePointToSegment(point, face.w, face.u);\r\n            const edgeDist = Math.min(dist1, dist2, dist3);\r\n\r\n            yield { angle, point, distance, mesh, face, edgeDist };\r\n        }\r\n    }\r\n\r\n    private distancePointToSegment(point: Vector3, a: Vector3, b: Vector3): number {\r\n        const ab = b.sub(a);\r\n        const ap = point.sub(a);\r\n        const bp = point.sub(b);\r\n        const e = ap.dot(ab);\r\n        \r\n        if (e <= 0) {\r\n            return ap.len();\r\n        }\r\n\r\n        const f = ab.dot(ab);\r\n        if (e >= f) {\r\n            return bp.len();\r\n        }\r\n    \r\n        return Math.sqrt(ap.dot(ap) - (e * e) / f);\r\n    }\r\n}\r\n\r\nexport interface Intersection {\r\n    angle: number;\r\n    point: Vector3;\r\n    distance: number;\r\n    mesh: Mesh;\r\n    face: Face;\r\n    edgeDist: number;\r\n}","import Camera from \"./Camera\";\r\nimport Material from \"./Material\";\r\nimport Raytracer from \"./Raytracer\";\r\nimport Scene from \"./Scene\";\r\nimport type AppConfig from \"./config\";\r\n\r\nexport default class Renderer {\r\n    private readonly pixels: Uint8ClampedArray;\r\n\r\n    constructor(\r\n        public readonly config: AppConfig['renderer'],\r\n        public readonly buffer: SharedArrayBuffer,\r\n        public readonly mod: number,\r\n        public readonly total: number\r\n    ) {\r\n        this.pixels = new Uint8ClampedArray(buffer);\r\n    }\r\n\r\n    setPixel(x: number, y: number, r: number, g: number, b: number, a = 256) {\r\n        const index = (y * this.config.width + x) * 4;\r\n        const pixels = this.pixels;\r\n\r\n        pixels[index + 0] = r;\r\n        pixels[index + 1] = g;\r\n        pixels[index + 2] = b;\r\n        pixels[index + 3] = a;\r\n    }\r\n\r\n    render(camera: Camera, scene: Scene) {\r\n        const planeHeight = 2 * Math.tan((camera.fov / 2) * (Math.PI / 180)) * camera.near;\r\n        const planeWidth = planeHeight * camera.aspectRatio;\r\n\r\n        const forward = camera.target.norm(); \r\n        const right = camera.up.cross(forward).norm();\r\n        const up = forward.cross(right).norm(); \r\n        const center = camera.position.add(forward.multScalar(camera.near));\r\n        const halfUp = up.multScalar(planeHeight / 2);\r\n        const halfRight = right.multScalar(planeWidth / 2);\r\n\r\n        const topLeft = center.add(halfUp).sub(halfRight);\r\n        const topRight = center.add(halfUp).add(halfRight);\r\n        const bottomLeft = center.sub(halfUp).sub(halfRight);\r\n\r\n        const xStep = topRight.sub(topLeft).multScalar(1 / this.config.width);\r\n        const yStep = bottomLeft.sub(topLeft).multScalar(1 / this.config.height);\r\n        \r\n        const rc = new Raytracer(scene, camera);\r\n\r\n        for (let y = this.mod; y < this.config.height; y += this.total) {\r\n            for (let x = 0; x < this.config.width; x++) {\r\n                const dir = topLeft\r\n                    .add(xStep.multScalar(x))\r\n                    .add(yStep.multScalar(y))\r\n\r\n                const hits = Array.from(rc.castRay(dir));\r\n                \r\n                if (!hits.length) {\r\n                    this.setPixel(x, y, 256, 256, 256);\r\n                    continue;\r\n                }\r\n\r\n                if (this.config.wireframe) {\r\n                    for (const hit of hits) {\r\n                        if (hit.edgeDist < this.config.wireframe) {\r\n                            const { r, g, b } = hit.face.material ?? hit.mesh.material;\r\n                            this.setPixel(x, y, r, g, b);\r\n                        }\r\n                    }\r\n                } else {\r\n                    const sorted = hits.sort((a, b) => a.distance - b.distance);\r\n\r\n                    let strength = 0;\r\n                    const colors: [Material, number, number][] = [];\r\n\r\n                    for (const hit of sorted) {\r\n                        const localAlpha = (hit.face.material ?? hit.mesh.material).a / 256;\r\n                        const localStrength = (1 - strength) * localAlpha;\r\n                        strength += localStrength;\r\n                        colors.push([(hit.face.material ?? hit.mesh.material), localStrength, hit.angle / 180]);\r\n\r\n                        if (strength > 0.999) {\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    const { r, g, b, a }: Material = colors.reduce((acc, [{ r, g, b, a }, s, q]) => {\r\n                        acc.r += r * q * s; \r\n                        acc.g += g * q * s; \r\n                        acc.b += b * q * s; \r\n                        acc.a += s * 256;\r\n                        return acc;\r\n                    }, new Material(0, 0, 0, 0));\r\n                    \r\n                    this.setPixel(x, y, r, g, b, a);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}","import Mesh from \"./Mesh\";\r\n\r\nexport default class Scene {\r\n    public readonly meshes: Mesh[] = [];\r\n\r\n    add(...objs: Mesh[]) {\r\n        this.meshes.push(...objs);\r\n    }\r\n\r\n    *[Symbol.iterator]() {\r\n        for (const mesh of this.meshes) {\r\n            yield* mesh;\r\n        }\r\n    }\r\n}","export default class Vector3 {\r\n    static midpoint(a: Vector3, b: Vector3): Vector3 {\r\n        return a.add(b).multScalar(1 / 2);\r\n    }\r\n    \r\n    constructor(public x: number = 0, public y: number = 0, public z: number = 0) {};\r\n\r\n    set(x: number, y: number, z: number) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n        return this;\r\n    }\r\n\r\n    clone() {\r\n        return new Vector3(this.x, this.y, this.z);\r\n    }\r\n\r\n    copy(v: Vector3) {\r\n        this.x = v.x;\r\n        this.y = v.y;\r\n        this.z = v.z;\r\n    }\r\n\r\n    add(v: Vector3) {\r\n        return new Vector3(this.x + v.x, this.y + v.y, this.z + v.z);\r\n    }\r\n\r\n    sub(v: Vector3) {\r\n        return new Vector3(this.x - v.x, this.y - v.y, this.z - v.z);\r\n    }\r\n\r\n\r\n    mult(v: Vector3) {\r\n        return new Vector3(this.x * v.x, this.y * v.y, this.z * v.z);\r\n    }\r\n\r\n    multScalar(s: number) {\r\n        return new Vector3(this.x * s, this.y * s, this.z * s);\r\n    }\r\n\r\n    lenSq() {\r\n        return this.x ** 2 + this.y ** 2 + this.z ** 2;\r\n    }\r\n\r\n    len() {\r\n        return Math.sqrt(this.lenSq());\r\n    }\r\n\r\n    dot(v: Vector3) {\r\n        return this.x * v.x + this.y * v.y + this.z * v.z;\r\n    }\r\n    \r\n    cross(v: Vector3) {\r\n        const x = this.y * v.z - this.z * v.y;\r\n        const y = this.z * v.x - this.x * v.z;\r\n        const z = this.x * v.y - this.y * v.x;\r\n        return new Vector3(x, y, z);\r\n    }\r\n\r\n    norm() {\r\n        const length = this.len();\r\n        if (length === 0) return new Vector3();\r\n\r\n        if (length === 1) {\r\n            return this.clone();\r\n        }\r\n        \r\n        return new Vector3(this.x / length, this.y / length, this.z / length);\r\n    }\r\n}","import Face from \"../Face\";\r\nimport Geometry from \"../Geometry\";\r\nimport Vector3 from \"../Vector3\";\r\n\r\nexport default class CubeGeometry extends Geometry {\r\n    constructor(public readonly width: number, public readonly height: number, public readonly depth: number) {\r\n        const vertecies: Vector3[] = [];\r\n        \r\n        for (const x of [-0.5, 0.5]) {\r\n            for (const y of [-0.5, 0.5]) {\r\n                for (const z of [-0.5, 0.5]) {\r\n                    vertecies.push(new Vector3(width * x, height * y, depth * z));\r\n                }\r\n            }\r\n        }\r\n        \r\n        super(vertecies, [\r\n            new Face(vertecies[2], vertecies[3], vertecies[6], new Vector3(0, 1, 0), null, \"cube_top_1\"),\r\n            new Face(vertecies[3], vertecies[6], vertecies[7], new Vector3(0, 1, 0), null, \"cube_top_2\"), // top\r\n            new Face(vertecies[0], vertecies[1], vertecies[4], new Vector3(0, -1, 0), null, \"cube_bottom_1\"),\r\n            new Face(vertecies[1], vertecies[4], vertecies[5], new Vector3(0, -1, 0), null, \"cube_bottom_2\"), // bottom\r\n            new Face(vertecies[0], vertecies[1], vertecies[2], new Vector3(-1, 0, 0), null, \"cube_left_1\"),\r\n            new Face(vertecies[1], vertecies[2], vertecies[3], new Vector3(-1, 0, 0), null, \"cube_left_2\"), // left\r\n            new Face(vertecies[4], vertecies[5], vertecies[6], new Vector3(1, 0, 0), null, \"cube_right_1\"),\r\n            new Face(vertecies[5], vertecies[6], vertecies[7], new Vector3(1, 0, 0), null, \"cube_right_2\"), // right\r\n            new Face(vertecies[0], vertecies[2], vertecies[4], new Vector3(0, 0, -1), null, \"cube_front_1\"),\r\n            new Face(vertecies[2], vertecies[4], vertecies[6], new Vector3(0, 0, -1), null, \"cube_front_2\"), // front\r\n            new Face(vertecies[1], vertecies[3], vertecies[5], new Vector3(0, 0, 1), null, \"cube_back_1\"),\r\n            new Face(vertecies[3], vertecies[5], vertecies[7], new Vector3(0, 0, 1), null, \"cube_back_2\"), // back\r\n        ]);\r\n    }\r\n}","import Face from \"@/Face\";\r\nimport Vector3 from \"@/Vector3\";\r\nimport QuadTree, { MeshAndFace } from \"./QuadTree\";\r\nimport Mesh from \"@/Mesh\";\r\nimport { rendererConfig } from \"@/setup\";\r\n\r\nexport default class QuadNode {\r\n\r\n    public readonly entries: MeshAndFace[] = [];\r\n    private readonly children: QuadNode[] = [];\r\n\r\n    constructor(public readonly tree: QuadTree, public readonly corners: [Vector3, Vector3, Vector3, Vector3]) {}\r\n\r\n    get topRight() { return this.corners[0] };\r\n    get bottomRight() { return this.corners[1] };\r\n    get bottomLeft() { return this.corners[2] };\r\n    get topLeft() { return this.corners[3] };\r\n\r\n    private overlaps(vertex: Vector3) {\r\n        const normal = this.bottomLeft.sub(this.topLeft).cross(this.topRight.sub(this.topLeft)).norm();\r\n    \r\n        const d = this.topLeft.dot(normal);\r\n        const t = (d - this.tree.camera.position.dot(normal)) / vertex.dot(normal);\r\n        const intersection = this.tree.camera.position.add(vertex.multScalar(t));\r\n\r\n        const withinX = Math.min(this.topLeft.x, this.bottomRight.x) <= intersection.x && intersection.x <= Math.max(this.topLeft.x, this.bottomRight.x);\r\n        const withinY = Math.min(this.topLeft.y, this.bottomRight.y) <= intersection.y && intersection.y <= Math.max(this.topLeft.y, this.bottomRight.y);\r\n        const withinZ = Math.min(this.topLeft.z, this.bottomRight.z) <= intersection.z && intersection.z <= Math.max(this.topLeft.z, this.bottomRight.z);\r\n    \r\n        return withinX && withinY && withinZ;\r\n    }\r\n\r\n    private overlapsFace(face: Face) {\r\n        const normal = this.bottomLeft.sub(this.topLeft).cross(this.topRight.sub(this.topLeft)).norm();\r\n    \r\n        const [min, max] = face.getBoundingBox();\r\n        const vertex = Vector3.midpoint(min, max);\r\n\r\n        const d = this.topLeft.dot(normal);\r\n        const t = (d - this.tree.camera.position.dot(normal)) / vertex.dot(normal);\r\n        const intersection = this.tree.camera.position.add(vertex.multScalar(t));\r\n\r\n        const [m, x] = face.clone().translate(intersection.sub(vertex)).getBoundingBox();\r\n\r\n        // const withinX = Math.min(this.topLeft.x, this.bottomRight.x) <= x.x && m.x <= Math.max(this.topLeft.x, this.bottomRight.x);\r\n        // const withinY = Math.min(this.topLeft.y, this.bottomRight.y) <= x.y && m.y <= Math.max(this.topLeft.y, this.bottomRight.y);\r\n        // const withinZ = Math.min(this.topLeft.z, this.bottomRight.z) <= x.z && m.z <= Math.max(this.topLeft.z, this.bottomRight.z);\r\n\r\n        const withinX = (m.x - 0.001) <= intersection.x && (x.x + 0.001) >= intersection.x;\r\n        const withinY = (m.y - 0.001) <= intersection.y && (x.y + 0.001) >= intersection.y;\r\n        const withinZ = (m.z - 0.001) <= intersection.z && (x.z + 0.001) >= intersection.z;\r\n\r\n        const matches = withinX && withinY && withinZ;\r\n\r\n        if (!matches) {\r\n            console.log(m, x, intersection);\r\n        }\r\n\r\n        return matches;\r\n    }\r\n\r\n    insert(mesh: Mesh, face: Face) {\r\n        if (this.children.length) {\r\n            for (const child of this.children) {\r\n                child.insert(mesh, face);\r\n            }\r\n\r\n            return;\r\n        }\r\n\r\n        if (this.overlapsFace(face)) {\r\n            const size = this.entries.push([mesh, face]);\r\n\r\n            if (size >= QuadTree.MAX_COUNT) {\r\n                this.subdivide();\r\n            }\r\n\r\n            return;\r\n        }\r\n    }\r\n\r\n    private subdivide() {\r\n        const [topRight, bottomRight, bottomLeft, topLeft] = this.corners;\r\n        const topMid = Vector3.midpoint(topRight, topLeft);\r\n        const rightMid = Vector3.midpoint(topRight, bottomRight);\r\n        const bottomMid = Vector3.midpoint(bottomRight, bottomLeft);\r\n        const leftMid = Vector3.midpoint(topLeft, bottomLeft);\r\n    \r\n        const center = Vector3.midpoint(Vector3.midpoint(topMid, bottomMid), Vector3.midpoint(rightMid, leftMid));\r\n    \r\n        this.children.push(\r\n            new QuadNode(this.tree, [topRight, rightMid, center, topMid]),\r\n            new QuadNode(this.tree, [rightMid, bottomRight, bottomMid, center]),\r\n            new QuadNode(this.tree, [center, bottomMid, bottomLeft, leftMid]),\r\n            new QuadNode(this.tree, [topMid, center, leftMid, topLeft])\r\n        );\r\n    }\r\n\r\n    *intersects(dir: Vector3): IterableIterator<MeshAndFace> {\r\n        if (!this.overlaps(dir)) {\r\n            return;\r\n        }\r\n\r\n        yield* this.entries;\r\n\r\n        for (const child of this.children) {\r\n            yield* child.intersects(dir);\r\n        }\r\n    }\r\n\r\n    print(indent = 0) {\r\n        const sep = \"  \";\r\n        const parts: string[] = [];\r\n        \r\n        parts.push(\"Conners:\");\r\n        parts.push(sep + `topLeft: (${this.topLeft.x.toFixed(3)}, ${this.topLeft.y.toFixed(3)}, ${this.topLeft.z.toFixed(3)})`);\r\n        parts.push(sep + `topLeft: (${this.topRight.x.toFixed(3)}, ${this.topRight.y.toFixed(3)}, ${this.topRight.z.toFixed(3)})`);\r\n        parts.push(sep + `topLeft: (${this.bottomLeft.x.toFixed(3)}, ${this.bottomLeft.y.toFixed(3)}, ${this.bottomLeft.z.toFixed(3)})`);\r\n        parts.push(sep + `topLeft: (${this.bottomRight.x.toFixed(3)}, ${this.bottomRight.y.toFixed(3)}, ${this.bottomRight.z.toFixed(3)})`);\r\n\r\n        if (this.entries.length) {\r\n            parts.push(\"Entries:\");\r\n            for (const entry of this.entries) {\r\n                parts.push(sep + entry[1].name);\r\n            }\r\n        }\r\n        \r\n        if (this.children.length && this.children.some(child => child.entries.length)) {\r\n            parts.push(\"Children:\");\r\n            for (const child of this.children) {\r\n                parts.push(child.print(indent + 1));\r\n            }\r\n        }\r\n\r\n        return parts.map(p => sep.repeat(indent) + p).join(\"\\n\");\r\n    }\r\n}","import Mesh from \"@/Mesh\";\r\nimport QuadNode from \"./QuadNode\";\r\nimport Camera from \"@/Camera\";\r\nimport Scene from \"@/Scene\";\r\nimport Vector3 from \"@/Vector3\";\r\nimport Face from \"@/Face\";\r\n\r\nexport type MeshAndFace = [Mesh, Face];\r\n\r\nexport default class QuadTree {\r\n    static MAX_COUNT: number;\r\n\r\n    private readonly root: QuadNode;\r\n\r\n    static ofScene(scene: Scene, camera: Camera) {\r\n        const qt = new QuadTree(camera);\r\n        for (const mesh of scene) {\r\n            qt.insert(mesh);\r\n        }\r\n\r\n        return qt;\r\n    }\r\n\r\n    constructor(public readonly camera: Camera) {\r\n        const planeHeight = 2 * Math.tan((camera.fov / 2) * (Math.PI / 180)) * camera.near;\r\n        const planeWidth = planeHeight * camera.aspectRatio;\r\n\r\n        const forward = camera.target.norm(); \r\n        const right = camera.up.cross(forward).norm();\r\n        const up = forward.cross(right).norm(); \r\n        const center = camera.position.add(forward.multScalar(camera.near));\r\n        const halfUp = up.multScalar(planeHeight / 2);\r\n        const halfRight = right.multScalar(planeWidth / 2);\r\n\r\n        this.root = new QuadNode(this, [\r\n            center.add(halfUp).add(halfRight), // tr\r\n            center.sub(halfUp).add(halfRight), // br\r\n            center.sub(halfUp).sub(halfRight), // bl\r\n            center.add(halfUp).sub(halfRight), // tl\r\n        ]);\r\n    }\r\n\r\n    insert(mesh: Mesh) {\r\n        for (const origFace of mesh.geometry.faces) {\r\n            const face = origFace.clone().translate(mesh.worldPosition);\r\n            this.root.insert(mesh, face);\r\n        }\r\n    }\r\n\r\n    *intersects(dir: Vector3): IterableIterator<MeshAndFace> {\r\n        yield* this.root.intersects(dir);\r\n    }\r\n\r\n    print() {\r\n        console.log(this.root.print());\r\n    }\r\n}","import Camera from \"./Camera\";\r\nimport Renderer from \"./Renderer\";\r\nimport Scene from \"./Scene\";\r\nimport type AppConfig from \"./config\";\r\nimport QuadTree from \"./optimizer/QuadTree\";\r\n\r\nlet _buildScene: (context: SetupContext) => void | Promise<void>;\r\nlet _data: {\r\n    mod: number;\r\n    total: number;\r\n    config: AppConfig['renderer'];\r\n    buffer: SharedArrayBuffer;\r\n};\r\nlet ready = false;\r\n\r\nexport const rendererConfig = {} as AppConfig['renderer'];\r\n\r\nself.onmessage = ({ data: { type, data } }) => {\r\n    if (type == \"config\") {\r\n        _data = data;\r\n        Object.assign(rendererConfig, _data.config);\r\n        QuadTree.MAX_COUNT = _data.config.qtMaxSize;\r\n        \r\n        if (_buildScene) {\r\n            doSetup();\r\n        }\r\n    } else if (type == \"render\") {\r\n        ready = true;\r\n    }\r\n}\r\n\r\nexport default function setup(buildScene: typeof _buildScene) {\r\n    _buildScene = buildScene;\r\n\r\n    if (_data) {\r\n        doSetup();\r\n    }\r\n}\r\n\r\nasync function doSetup() {\r\n    const scene = new Scene();\r\n    const renderer = new Renderer(_data.config, _data.buffer, _data.mod, _data.total);\r\n    const camera = new Camera(_data.config.cameraFov, renderer.config.width / renderer.config.height, _data.config.cameraNear);\r\n\r\n    await _buildScene({ scene, camera, renderer, config: _data.config });\r\n\r\n    if (_data.config.threadSync) {\r\n        await new Promise<void>((resolve) => {\r\n            self.postMessage(\"ready\");\r\n            const iv = setInterval(() => {\r\n                if (ready) {\r\n                    clearInterval(iv);\r\n                    return resolve();\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    renderer.render(camera, scene);\r\n    self.close();\r\n}\r\n\r\ninterface SetupContext {\r\n    scene: Scene;\r\n    camera: Camera;\r\n    renderer: Renderer;\r\n    config: AppConfig['renderer'];\r\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","import Material from \"@/Material\";\r\nimport Mesh from \"@/Mesh\";\r\nimport Vector3 from \"@/Vector3\";\r\nimport CubeGeometry from \"@/geometries/CubeGeometry\";\r\nimport setup from \"@/setup\";\r\n\r\nsetup(({ scene, camera }) => {\r\n    const geo = new CubeGeometry(10, 10, 10);\r\n    const mat = new Material(256, 0, 0, 180);\r\n    const mesh = new Mesh(geo, mat);\r\n    mesh.position.set(-2, -0, 30);\r\n    scene.add(mesh);\r\n    \r\n    mesh.rotate(new Vector3(0, 1, 0), 30);\r\n    mesh.rotate(new Vector3(1, 0, 0), 30);\r\n    camera.target.set(0, 0, 1);\r\n});"],"names":[],"sourceRoot":""}